<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Band Excitation Relaxation Spectroscopy Data Processing &mdash; BGlib 0.0.4 documentation</title>
      <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/nbsphinx-code-cells.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="../../_static/documentation_options.js?v=8c5712d9"></script>
        <script src="../../_static/doctools.js?v=888ff710"></script>
        <script src="../../_static/sphinx_highlight.js?v=dc90522c"></script>
        <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
        <script>window.MathJax = {"tex": {"inlineMath": [["$", "$"], ["\\(", "\\)"]], "processEscapes": true}, "options": {"ignoreHtmlClass": "tex2jax_ignore|mathjax_ignore|document", "processHtmlClass": "tex2jax_process|mathjax_process|math|output_area"}}</script>
        <script defer="defer" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script src="../../_static/js/theme.js"></script>
    <link rel="author" title="About these documents" href="../../about.html" />
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="General Mode" href="../gmode/index.html" />
    <link rel="prev" title="Band Excitation data procesing using pycroscopy" href="BE_Processing_cKPFM.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../../index.html" class="icon icon-home">
            BGlib
          </a>
              <div class="version">
                0.0.4
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">BGlib</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../about.html">BGlib</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../_autosummary/BGlib.html">BGlib</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Examples</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Band Excitation</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="BE_Processing.html">Band Excitation data procesing</a></li>
<li class="toctree-l2"><a class="reference internal" href="BE_Processing_cKPFM.html">Band Excitation data procesing using pycroscopy</a></li>
<li class="toctree-l2"><a class="reference internal" href="BE_Processing_cKPFM.html#cKPFM-analysis">cKPFM analysis</a></li>
<li class="toctree-l2"><a class="reference internal" href="BE_Processing_cKPFM.html#Configure-the-notebook">Configure the notebook</a></li>
<li class="toctree-l2"><a class="reference internal" href="BE_Processing_cKPFM.html#Set-some-basic-parameters-for-computation">Set some basic parameters for computation</a></li>
<li class="toctree-l2"><a class="reference internal" href="BE_Processing_cKPFM.html#Make-the-data-pycroscopy-compatible">Make the data pycroscopy compatible</a></li>
<li class="toctree-l2"><a class="reference internal" href="BE_Processing_cKPFM.html#Get-some-basic-parameters-from-the-H5-file">Get some basic parameters from the H5 file</a></li>
<li class="toctree-l2"><a class="reference internal" href="BE_Processing_cKPFM.html#Visualize-the-raw-data">Visualize the raw data</a></li>
<li class="toctree-l2"><a class="reference internal" href="BE_Processing_cKPFM.html#Fit-the-Band-Excitation-(BE)-spectra">Fit the Band Excitation (BE) spectra</a></li>
<li class="toctree-l2"><a class="reference internal" href="BE_Processing_cKPFM.html#Remove-phase-offset">Remove phase offset</a></li>
<li class="toctree-l2"><a class="reference internal" href="BE_Processing_cKPFM.html#Display-cKPFM-data">Display cKPFM data</a></li>
<li class="toctree-l2"><a class="reference internal" href="BE_Processing_cKPFM.html#Display-averaged-cKPFM-data">Display averaged cKPFM data</a></li>
<li class="toctree-l2"><a class="reference internal" href="BE_Processing_cKPFM.html#Export-response-after-all-write-steps-for-all-pixels">Export response after all write steps for all pixels</a></li>
<li class="toctree-l2"><a class="reference internal" href="BE_Processing_cKPFM.html#Display-averaged-response-at-0-V-read-voltage">Display averaged response at 0 V read voltage</a></li>
<li class="toctree-l2"><a class="reference internal" href="BE_Processing_cKPFM.html#Display-response,-amplitude-and-phase-data-at-0-V-read-voltage-for-a-single-pixel">Display response, amplitude and phase data at 0 V read voltage for a single pixel</a></li>
<li class="toctree-l2"><a class="reference internal" href="BE_Processing_cKPFM.html#Display-on-field-loops-for-all-read-steps">Display on-field loops for all read steps</a></li>
<li class="toctree-l2"><a class="reference internal" href="BE_Processing_cKPFM.html#Calculate-the-jCPD">Calculate the jCPD</a></li>
<li class="toctree-l2"><a class="reference internal" href="BE_Processing_cKPFM.html#Display-jCPD-data">Display jCPD data</a></li>
<li class="toctree-l2"><a class="reference internal" href="BE_Processing_cKPFM.html#Display-jCPD-and-fitting-parameters">Display jCPD and fitting parameters</a></li>
<li class="toctree-l2"><a class="reference internal" href="BE_Processing_cKPFM.html#jCPD-plots">jCPD plots</a></li>
<li class="toctree-l2"><a class="reference internal" href="BE_Processing_cKPFM.html#PCA-analysis">PCA analysis</a></li>
<li class="toctree-l2"><a class="reference internal" href="BE_Processing_cKPFM.html#Visualize-the-SHO-results-of-BEline,-BEPS-and-FORC-data">Visualize the SHO results of BEline, BEPS and FORC data</a></li>
<li class="toctree-l2"><a class="reference internal" href="BE_Processing_cKPFM.html#Fit-loops-to-a-function">Fit loops to a function</a></li>
<li class="toctree-l2"><a class="reference internal" href="BE_Processing_cKPFM.html#Prepare-datasets-for-visualization">Prepare datasets for visualization</a></li>
<li class="toctree-l2"><a class="reference internal" href="BE_Processing_cKPFM.html#Visualize-Loop-fits">Visualize Loop fits</a></li>
<li class="toctree-l2"><a class="reference internal" href="BE_Processing_cKPFM.html#Save-and-close">Save and close</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Band Excitation Relaxation Spectroscopy Data Processing</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#Jessica-Kong,-Suhas-Somnath,-Chris-R.-Smith,-Stephen-Jesse">Jessica Kong, Suhas Somnath, Chris R. Smith, Stephen Jesse</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#This-Jupyter-Notebook-demonstrates-how-to-use-Pycroscopy-and-PyUSID-to-process-Band-Excitation-relaxation-spectra.-The-code-used-to-configure-the-notebook,-select-a-file,-and-preliminary-exploration-of-file-parameters-(i.e,-code-before-the-SHO-fits-section)-was-taken-from-other-BE-notebooks-which-were-written-by-Suhas-Somnath,-Chris-R.-Smith,-and-Stephen-Jesse.">This Jupyter Notebook demonstrates how to use Pycroscopy and PyUSID to process Band Excitation relaxation spectra. The code used to configure the notebook, select a file, and preliminary exploration of file parameters (i.e, code before the SHO fits section) was taken from other BE notebooks which were written by Suhas Somnath, Chris R. Smith, and Stephen Jesse.</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#Configure-the-notebook">Configure the notebook</a></li>
<li class="toctree-l2"><a class="reference internal" href="#Set-some-basic-parameters-for-computation">Set some basic parameters for computation</a></li>
<li class="toctree-l2"><a class="reference internal" href="#Make-the-data-pycroscopy-compatible">Make the data pycroscopy compatible</a></li>
<li class="toctree-l2"><a class="reference internal" href="#Get-some-basic-parameters-from-the-H5-file">Get some basic parameters from the H5 file</a></li>
<li class="toctree-l2"><a class="reference internal" href="#Perform-SHO-fits-to-data-to-extract-PFM-response">Perform SHO fits to data to extract PFM response</a></li>
<li class="toctree-l2"><a class="reference internal" href="#Perform-functional-fits-to-PFM-relaxation-data">Perform functional fits to PFM relaxation data</a></li>
<li class="toctree-l2"><a class="reference internal" href="#Visualize-the-data">Visualize the data</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../gmode/index.html">General Mode</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">BGlib</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="index.html">Band Excitation</a></li>
      <li class="breadcrumb-item active">Band Excitation Relaxation Spectroscopy Data Processing</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../../_sources/notebooks/be/BE_Relaxation Processing.ipynb.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="Band-Excitation-Relaxation-Spectroscopy-Data-Processing">
<h1>Band Excitation Relaxation Spectroscopy Data Processing<a class="headerlink" href="#Band-Excitation-Relaxation-Spectroscopy-Data-Processing" title="Link to this heading">¶</a></h1>
<section id="Jessica-Kong,-Suhas-Somnath,-Chris-R.-Smith,-Stephen-Jesse">
<h2>Jessica Kong, Suhas Somnath, Chris R. Smith, Stephen Jesse<a class="headerlink" href="#Jessica-Kong,-Suhas-Somnath,-Chris-R.-Smith,-Stephen-Jesse" title="Link to this heading">¶</a></h2>
<p>University of Washington 7/15/2019</p>
<section id="This-Jupyter-Notebook-demonstrates-how-to-use-Pycroscopy-and-PyUSID-to-process-Band-Excitation-relaxation-spectra.-The-code-used-to-configure-the-notebook,-select-a-file,-and-preliminary-exploration-of-file-parameters-(i.e,-code-before-the-SHO-fits-section)-was-taken-from-other-BE-notebooks-which-were-written-by-Suhas-Somnath,-Chris-R.-Smith,-and-Stephen-Jesse.">
<h3>This Jupyter Notebook demonstrates how to use Pycroscopy and PyUSID to process Band Excitation relaxation spectra. The code used to configure the notebook, select a file, and preliminary exploration of file parameters (i.e, code before the SHO fits section) was taken from other BE notebooks which were written by Suhas Somnath, Chris R. Smith, and Stephen Jesse.<a class="headerlink" href="#This-Jupyter-Notebook-demonstrates-how-to-use-Pycroscopy-and-PyUSID-to-process-Band-Excitation-relaxation-spectra.-The-code-used-to-configure-the-notebook,-select-a-file,-and-preliminary-exploration-of-file-parameters-(i.e,-code-before-the-SHO-fits-section)-was-taken-from-other-BE-notebooks-which-were-written-by-Suhas-Somnath,-Chris-R.-Smith,-and-Stephen-Jesse." title="Link to this heading">¶</a></h3>
<p><img alt="notebook_rules.png" src="https://raw.githubusercontent.com/pycroscopy/pycroscopy/master/jupyter_notebooks/notebook_rules.png" /></p>
<p>Image courtesy of Jean Bilheux from the <a class="reference external" href="https://github.com/neutronimaging/python_notebooks">neutron imaging</a> GitHub repository.</p>
</section>
</section>
</section>
<section id="Configure-the-notebook">
<h1>Configure the notebook<a class="headerlink" href="#Configure-the-notebook" title="Link to this heading">¶</a></h1>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[1]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Make sure needed packages are installed and up-to-date</span>
<span class="kn">import</span> <span class="nn">sys</span>
<span class="o">!</span>conda<span class="w"> </span>install<span class="w"> </span>--yes<span class="w"> </span>--prefix<span class="w"> </span><span class="o">{</span>sys.prefix<span class="o">}</span><span class="w"> </span>numpy<span class="w"> </span>scipy<span class="w"> </span>matplotlib<span class="w"> </span>scikit-learn<span class="w"> </span>Ipython<span class="w"> </span>ipywidgets<span class="w"> </span>h5py
<span class="o">!{</span>sys.executable<span class="o">}</span><span class="w"> </span>-m<span class="w"> </span>pip<span class="w"> </span>install<span class="w"> </span>-U<span class="w"> </span>--no-deps<span class="w"> </span>pycroscopy<span class="w">  </span>#<span class="w"> </span>this<span class="w"> </span>will<span class="w"> </span>automatically<span class="w"> </span>install<span class="w"> </span>pyUSID<span class="w"> </span>as<span class="w"> </span>well
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
^C
</pre></div></div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area stderr docutils container">
<div class="highlight"><pre>
Invalid requirement: &#39;#&#39;

</pre></div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[2]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Ensure python 3 compatibility</span>
<span class="kn">from</span> <span class="nn">__future__</span> <span class="kn">import</span> <span class="n">division</span><span class="p">,</span> <span class="n">print_function</span><span class="p">,</span> <span class="n">absolute_import</span>

<span class="c1"># Import necessary libraries:</span>
<span class="c1"># General utilities:</span>
<span class="kn">import</span> <span class="nn">os</span>
<span class="kn">import</span> <span class="nn">shutil</span>

<span class="c1"># Computation:</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">h5py</span>

<span class="c1"># Visualization:</span>
<span class="c1"># import ipympl</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="kn">import</span> <span class="nn">matplotlib.widgets</span> <span class="k">as</span> <span class="nn">mpw</span>
<span class="kn">from</span> <span class="nn">IPython.display</span> <span class="kn">import</span> <span class="n">display</span><span class="p">,</span> <span class="n">clear_output</span><span class="p">,</span> <span class="n">HTML</span>
<span class="kn">import</span> <span class="nn">ipywidgets</span> <span class="k">as</span> <span class="nn">widgets</span>

<span class="kn">import</span> <span class="nn">pyUSID</span> <span class="k">as</span> <span class="nn">usid</span>
<span class="c1"># Finally, pycroscopy itself</span>
<span class="n">sys</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s1">&#39;..&#39;</span><span class="p">)</span>
<span class="kn">import</span> <span class="nn">pycroscopy</span> <span class="k">as</span> <span class="nn">px</span>

<span class="c1"># Make Notebook take up most of page width</span>
<span class="n">display</span><span class="p">(</span><span class="n">HTML</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="s2">&quot;&quot;&quot;</span>
<span class="s2">&lt;style&gt;</span>
<span class="s2">    div#notebook-container    { width: 90%; }</span>
<span class="s2">    div#menubar-container     { width: 65%; }</span>
<span class="s2">    div#maintoolbar-container { width: 99%; }</span>
<span class="s2">&lt;/style&gt;</span>
<span class="s2">&quot;&quot;&quot;</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area rendered_html docutils container">
<style>
    div#notebook-container    { width: 90%; }
    div#menubar-container     { width: 65%; }
    div#maintoolbar-container { width: 99%; }
</style></div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[3]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># set up notebook to show plots within the notebook</span>
<span class="o">%</span><span class="k">matplotlib</span> notebook
</pre></div>
</div>
</div>
</section>
<section id="Set-some-basic-parameters-for-computation">
<h1>Set some basic parameters for computation<a class="headerlink" href="#Set-some-basic-parameters-for-computation" title="Link to this heading">¶</a></h1>
<p>This notebook performs some functional fitting whose duration can be substantially decreased by using more memory and CPU cores. We have provided default values below but you may choose to change them if necessary.</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[4]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">max_mem</span>         <span class="o">=</span> <span class="mi">1024</span><span class="o">*</span><span class="mi">8</span>  <span class="c1"># Maximum memory to use, in Mbs. Default = 1024</span>
<span class="n">max_cores</span>       <span class="o">=</span> <span class="kc">None</span>    <span class="c1"># Number of logical cores to use in fitting.  None uses all but 2 available cores.</span>
</pre></div>
</div>
</div>
</section>
<section id="Make-the-data-pycroscopy-compatible">
<h1>Make the data pycroscopy compatible<a class="headerlink" href="#Make-the-data-pycroscopy-compatible" title="Link to this heading">¶</a></h1>
<p>Converting the raw data into a pycroscopy compatible hierarchical data format (HDF or .h5) file gives you access to the fast fitting algorithms and powerful analysis functions within pycroscopy</p>
<ul class="simple">
<li><p>are like smart containers that can store matrices with data, folders to organize these datasets, images, metadata like experimental parameters, links or shortcuts to datasets, etc.</p></li>
<li><p>are readily compatible with high-performance computing facilities</p></li>
<li><p>scale very efficiently from few kilobytes to several terabytes</p></li>
<li><p>can be read and modified using any language including Python, Matlab, C/C++, Java, Fortran, Igor Pro, etc.</p></li>
</ul>
<ul class="simple">
<li><p>Any .mat or .txt parameter file from the original experiment</p></li>
<li><p>A .h5 file generated from the raw data using pycroscopy - skips translation</p></li>
</ul>
<p>You can select desired file type by choosing the second option in the pull down menu on the bottom right of the file window</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[5]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">input_file_path</span> <span class="o">=</span> <span class="n">usid</span><span class="o">.</span><span class="n">io_utils</span><span class="o">.</span><span class="n">file_dialog</span><span class="p">(</span><span class="n">caption</span><span class="o">=</span><span class="s1">&#39;Select translated .h5 file or raw experiment data&#39;</span><span class="p">,</span>
                                          <span class="n">file_filter</span><span class="o">=</span><span class="s1">&#39;Parameters for raw BE data (*.txt *.mat *xls *.xlsx);; </span><span class="se">\</span>
<span class="s1">                                          Translated file (*.h5)&#39;</span><span class="p">)</span>

<span class="p">(</span><span class="n">data_dir</span><span class="p">,</span> <span class="n">filename</span><span class="p">)</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="n">input_file_path</span><span class="p">)</span>

<span class="k">if</span> <span class="n">input_file_path</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="s1">&#39;.h5&#39;</span><span class="p">):</span>
    <span class="c1"># No translation here</span>
    <span class="n">h5_path</span> <span class="o">=</span> <span class="n">input_file_path</span>
    <span class="n">force</span> <span class="o">=</span> <span class="kc">True</span> <span class="c1"># Set this to true to force patching of the datafile.</span>
    <span class="n">tl</span> <span class="o">=</span> <span class="n">px</span><span class="o">.</span><span class="n">io</span><span class="o">.</span><span class="n">translators</span><span class="o">.</span><span class="n">LabViewH5Patcher</span><span class="p">()</span>
    <span class="n">tl</span><span class="o">.</span><span class="n">translate</span><span class="p">(</span><span class="n">h5_path</span><span class="p">,</span> <span class="n">force_patch</span><span class="o">=</span><span class="n">force</span><span class="p">)</span>
<span class="k">else</span><span class="p">:</span>
    <span class="c1"># Set the data to be translated</span>
    <span class="n">data_path</span> <span class="o">=</span> <span class="n">input_file_path</span>

    <span class="p">(</span><span class="n">junk</span><span class="p">,</span> <span class="n">base_name</span><span class="p">)</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="n">data_dir</span><span class="p">)</span>

<span class="c1">#     # Check if the data is in the new or old format.  Initialize the correct translator for the format.</span>
<span class="c1">#     if base_name == &#39;newdataformat&#39;:</span>
<span class="c1">#         (junk, base_name) = os.path.split(junk)</span>
<span class="c1">#         translator = px.io.translators.BEPSndfTranslator(max_mem_mb=max_mem)</span>
<span class="c1">#     else:</span>
<span class="c1">#         translator = px.io.translators.BEodfTranslator(max_mem_mb=max_mem)</span>
<span class="c1">#     if base_name.endswith(&#39;_d&#39;):</span>
<span class="c1">#         base_name = base_name[:-2]</span>
    <span class="c1"># Translate the data</span>
    <span class="n">h5_path</span> <span class="o">=</span> <span class="n">translator</span><span class="o">.</span><span class="n">translate</span><span class="p">(</span><span class="n">data_path</span><span class="p">,</span> <span class="n">show_plots</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">save_plots</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>

<span class="n">h5_file</span> <span class="o">=</span> <span class="n">h5py</span><span class="o">.</span><span class="n">File</span><span class="p">(</span><span class="n">h5_path</span><span class="p">,</span> <span class="s1">&#39;r+&#39;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Working on:</span><span class="se">\n</span><span class="s1">&#39;</span> <span class="o">+</span> <span class="n">h5_path</span><span class="p">)</span>

<span class="n">h5_main</span> <span class="o">=</span> <span class="n">usid</span><span class="o">.</span><span class="n">hdf_utils</span><span class="o">.</span><span class="n">find_dataset</span><span class="p">(</span><span class="n">h5_file</span><span class="p">,</span> <span class="s1">&#39;Raw_Data&#39;</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Working on:
Z:/Jessica Kong/Data/ORNL Summer-Fall 2018/MeasurementsByKyle/Jess_copy/+6 V Relaxation/BTO_031919_Post+6VPole_RS_+2Vbias_0017.h5
</pre></div></div>
</div>
<p>The file contents are stored in a tree structure, just like files on a conventional computer. The data is stored as a 2D matrix (position, spectroscopic value) regardless of the dimensionality of the data. Thus, the positions will be arranged as row0-col0, row0-col1…. row0-colN, row1-col0…. and the data for each position is stored as it was chronologically collected</p>
<p>The main dataset is always accompanied by four ancillary datasets that explain the position and spectroscopic value of any given element in the dataset.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[6]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Datasets and datagroups within the file:</span><span class="se">\n</span><span class="s1">------------------------------------&#39;</span><span class="p">)</span>
<span class="n">usid</span><span class="o">.</span><span class="n">hdf_utils</span><span class="o">.</span><span class="n">print_tree</span><span class="p">(</span><span class="n">h5_file</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;</span><span class="se">\n</span><span class="s1">The main dataset:</span><span class="se">\n</span><span class="s1">------------------------------------&#39;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">h5_main</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;</span><span class="se">\n</span><span class="s1">The ancillary datasets:</span><span class="se">\n</span><span class="s1">------------------------------------&#39;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">h5_main</span><span class="o">.</span><span class="n">h5_pos_inds</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">h5_main</span><span class="o">.</span><span class="n">h5_pos_vals</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">h5_main</span><span class="o">.</span><span class="n">h5_spec_inds</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">h5_main</span><span class="o">.</span><span class="n">h5_spec_vals</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;</span><span class="se">\n</span><span class="s1">Metadata or attributes in a datagroup</span><span class="se">\n</span><span class="s1">------------------------------------&#39;</span><span class="p">)</span>
<span class="k">for</span> <span class="n">key</span><span class="p">,</span> <span class="n">val</span> <span class="ow">in</span> <span class="n">usid</span><span class="o">.</span><span class="n">hdf_utils</span><span class="o">.</span><span class="n">get_attributes</span><span class="p">(</span><span class="n">h5_main</span><span class="o">.</span><span class="n">parent</span><span class="o">.</span><span class="n">parent</span><span class="p">)</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">{}</span><span class="s1"> : </span><span class="si">{}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">key</span><span class="p">,</span> <span class="n">val</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Datasets and datagroups within the file:
------------------------------------
/
├ Measurement_000
  ---------------
  ├ Channel_000
    -----------
    ├ Bin_FFT
    ├ Bin_Frequencies
    ├ Bin_Indices
    ├ Bin_Step
    ├ Excitation_Waveform
    ├ Noise_Floor
    ├ Position_Indices
    ├ Position_Values
    ├ Raw_Data
    ├ Raw_Data-SHO_Fit_000
      --------------------
      ├ Guess
      ├ Spectroscopic_Indices
      ├ Spectroscopic_Values
    ├ Raw_Data-SHO_Fit_001
      --------------------
      ├ Fit
      ├ Fit-Double_Exp_000
        ------------------
        ├ Double_Exp_Fit
        ├ Spectroscopic_Indices
        ├ Spectroscopic_Values
        ├ completed_positions
      ├ Guess
      ├ Spectroscopic_Indices
      ├ Spectroscopic_Values
    ├ Spatially_Averaged_Plot_Group_000
      ---------------------------------
      ├ Bin_Frequencies
      ├ Mean_Spectrogram
      ├ Spectroscopic_Parameter
      ├ Step_Averaged_Response
    ├ Spectroscopic_Indices
    ├ Spectroscopic_Values

The main dataset:
------------------------------------
&lt;HDF5 dataset &#34;Raw_Data&#34;: shape (100, 7905), type &#34;&lt;c8&#34;&gt;
located at:
        /Measurement_000/Channel_000/Raw_Data
Data contains:
        quantity (a.u.)
Data dimensions and original shape:
Position Dimensions:
        X - size: 10
        Y - size: 10
Spectroscopic Dimensions:
        Frequency - size: 31
        Pulse_Repeat - size: 250
        DC_Offset - size: 2
        Field - size: 1
Data Type:
        complex64

The ancillary datasets:
------------------------------------
&lt;HDF5 dataset &#34;Position_Indices&#34;: shape (100, 2), type &#34;&lt;u4&#34;&gt;
&lt;HDF5 dataset &#34;Position_Values&#34;: shape (100, 2), type &#34;&lt;f4&#34;&gt;
&lt;HDF5 dataset &#34;Spectroscopic_Indices&#34;: shape (4, 7905), type &#34;&lt;u4&#34;&gt;
&lt;HDF5 dataset &#34;Spectroscopic_Values&#34;: shape (4, 7905), type &#34;&lt;f4&#34;&gt;

Metadata or attributes in a datagroup
------------------------------------
AFM_InvOLS : 1.1009831191079487e-09
AFM_XLVDT_sensor : 3.8194705242817696e-06
AFM_XPiezo_sensitivity : -1.7495e-07
AFM_YLVDT_sensor : 3.9885994791750315e-06
AFM_YPiezo_sensitivity : 1.8273e-07
AFM_ZLVDT_sensor : 2.43377e-06
AFM_ZPiezo_sensitivity : 2.68351e-08
BE_amplitude_[V] : 1.0
BE_auto_smooth_cond : 1.0
BE_band_width_[Hz] : 100000.0
BE_center_frequency_[Hz] : 384000.0
BE_phase_content : chirp-sinc hybrid
BE_phase_variation : 1.0
BE_pulse_duration_[s] : 0.002
BE_repeats : 4.0
BE_signal_type_ring : 1.0
BE_smoothing : 3208.717049919559
BE_window_adjustment : 0.215625
IO_AFM_platform : Cypher AR14
IO_AI_range : 10.0
IO_AO_range : 10.0
IO_Channel_001_type : none
IO_Channel_002_type : none
IO_Channel_003_type : none
IO_analog_output_amplifier_ring : 1.0
IO_card : 6124
IO_deflection_detector_ring : 0
IO_rate : 4000000.0
IO_sensitivity : 1.0
VS_envelope_max_amp_[V] : 4.0
VS_envelope_min_amp_[V] : 1.0
VS_envelope_shape : 0
VS_mode : VS_Relaxation
VS_num_kernel_repeats : 1
VS_num_meas_per_read_step : 250
VS_num_meas_per_write_step : 5
VS_num_steps_per_envelope : 4
VS_pulse_kernel_polarity : 1
VS_start_kernel_with : 0
VS_step_transition_duration_[s]_ : 2.0
data_type : BERelaxData
grid_current_col : 9
grid_current_row : 9
grid_num_cols : 10
grid_num_rows : 10
grid_set_point_[V] : 1.0
grid_settle_time_[s] : 0.1
grid_transit_time_[s] : 0.1
num_UDVS_bins : 7905
num_UDVS_steps : 255
num_bins : 7905
num_pix : 100
num_steps : 255
</pre></div></div>
</div>
</section>
<section id="Get-some-basic-parameters-from-the-H5-file">
<h1>Get some basic parameters from the H5 file<a class="headerlink" href="#Get-some-basic-parameters-from-the-H5-file" title="Link to this heading">¶</a></h1>
<p>This information will be vital for futher analysis and visualization of the data</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[7]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">h5_pos_inds</span> <span class="o">=</span> <span class="n">h5_main</span><span class="o">.</span><span class="n">h5_pos_inds</span>
<span class="n">pos_dims</span> <span class="o">=</span> <span class="n">h5_main</span><span class="o">.</span><span class="n">pos_dim_sizes</span>
<span class="n">pos_labels</span> <span class="o">=</span> <span class="n">h5_main</span><span class="o">.</span><span class="n">pos_dim_labels</span>
<span class="nb">print</span><span class="p">(</span><span class="n">pos_labels</span><span class="p">,</span> <span class="n">pos_dims</span><span class="p">)</span>

<span class="n">parm_dict</span> <span class="o">=</span> <span class="n">h5_main</span><span class="o">.</span><span class="n">parent</span><span class="o">.</span><span class="n">parent</span><span class="o">.</span><span class="n">attrs</span>
<span class="n">is_ckpfm</span> <span class="o">=</span> <span class="n">h5_file</span><span class="o">.</span><span class="n">attrs</span><span class="p">[</span><span class="s1">&#39;data_type&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;cKPFMData&#39;</span>
<span class="k">if</span> <span class="n">is_ckpfm</span><span class="p">:</span>
    <span class="n">num_write_steps</span> <span class="o">=</span> <span class="n">parm_dict</span><span class="p">[</span><span class="s1">&#39;VS_num_DC_write_steps&#39;</span><span class="p">]</span>
    <span class="n">num_read_steps</span> <span class="o">=</span> <span class="n">parm_dict</span><span class="p">[</span><span class="s1">&#39;VS_num_read_steps&#39;</span><span class="p">]</span>
    <span class="n">num_fields</span> <span class="o">=</span> <span class="mi">2</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
[&#39;X&#39;, &#39;Y&#39;] [10, 10]
</pre></div></div>
</div>
</section>
<section id="Perform-SHO-fits-to-data-to-extract-PFM-response">
<h1>Perform SHO fits to data to extract PFM response<a class="headerlink" href="#Perform-SHO-fits-to-data-to-extract-PFM-response" title="Link to this heading">¶</a></h1>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[8]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">sho_fit_points</span> <span class="o">=</span> <span class="mi">5</span>  <span class="c1"># The number of data points at each step to use when fitting</span>
<span class="n">sho_override</span> <span class="o">=</span> <span class="kc">False</span>  <span class="c1"># Force recompute if True</span>

<span class="n">h5_main_SHO_fitter</span> <span class="o">=</span> <span class="n">px</span><span class="o">.</span><span class="n">analysis</span><span class="o">.</span><span class="n">BESHOfitter</span><span class="p">(</span><span class="n">h5_main</span><span class="p">,</span> <span class="n">parallel</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">verbose</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">h5_main_SHO_guess</span> <span class="o">=</span> <span class="n">h5_main_SHO_fitter</span><span class="o">.</span><span class="n">do_guess</span><span class="p">(</span><span class="n">strategy</span><span class="o">=</span><span class="s1">&#39;complex_gaussian&#39;</span><span class="p">,</span> <span class="n">options</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;num_points&#39;</span><span class="p">:</span><span class="n">sho_fit_points</span><span class="p">},</span>
                                   <span class="n">processors</span><span class="o">=</span><span class="n">max_cores</span><span class="p">,</span> <span class="n">max_mem</span><span class="o">=</span><span class="n">max_mem</span><span class="p">,</span> <span class="n">override</span><span class="o">=</span><span class="n">sho_override</span><span class="p">)</span>
<span class="n">h5_main_SHO_fit</span> <span class="o">=</span> <span class="n">h5_main_SHO_fitter</span><span class="o">.</span><span class="n">do_fit</span><span class="p">(</span><span class="n">processors</span><span class="o">=</span><span class="n">max_cores</span><span class="p">,</span> <span class="n">max_mem</span><span class="o">=</span><span class="n">max_mem</span><span class="p">,</span> <span class="n">override</span><span class="o">=</span><span class="n">sho_override</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Allowed to read 17078 pixels per chunk
Looking at group - Raw_Data-SHO_Fit_000
Looking for new attribute named: num_points
New parm: num_points    - new parm not in group *****

Looking at group - Raw_Data-SHO_Fit_001
Looking for new attribute named: num_points
New parm: num_points    - match: True
Looking for new attribute named: frequencies
New parm: frequencies   - match: True
Looking for new attribute named: strategy
New parm: strategy      - match: True

Returned previously computed results at /Measurement_000/Channel_000/Raw_Data-SHO_Fit_001/Guess
Groups that matched the nomenclature: [&lt;HDF5 group &#34;/Measurement_000/Channel_000/Raw_Data-SHO_Fit_000&#34; (3 members)&gt;, &lt;HDF5 group &#34;/Measurement_000/Channel_000/Raw_Data-SHO_Fit_001&#34; (5 members)&gt;]
Looking for new attribute named: jac
New parm: jac   - match: True
Looking for new attribute named: solver_type
New parm: solver_type   - match: True
Looking for new attribute named: class
New parm: class         - match: True
Looking for new attribute named: obj_func
New parm: obj_func      - match: True
Looking for new attribute named: xvals
New parm: xvals         - match: True

Returned previously computed results at /Measurement_000/Channel_000/Raw_Data-SHO_Fit_001/Fit
</pre></div></div>
</div>
</section>
<section id="Perform-functional-fits-to-PFM-relaxation-data">
<h1>Perform functional fits to PFM relaxation data<a class="headerlink" href="#Perform-functional-fits-to-PFM-relaxation-data" title="Link to this heading">¶</a></h1>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[9]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">starts_with</span> <span class="o">=</span> <span class="s1">&#39;write&#39;</span>
<span class="c1">#experimentally obtained tip sensitivity</span>
<span class="n">tip_sens</span> <span class="o">=</span> <span class="mf">83.53</span> <span class="o">*</span> <span class="mf">1e3</span> <span class="c1">#pm/V</span>
<span class="c1">#phase offset to get raw phase centered at 0. can obtain by plotting:</span>
<span class="c1"># plt.hist(np.concatenate(h5_main_SHO_fit[&#39;Phase [rad]&#39;].reshape(-1,1)), bins=1000);</span>
<span class="n">phase</span> <span class="o">=</span> <span class="mf">3.0</span>
<span class="c1">#fit method, can be &#39;Exponential&#39; &#39;Double_Exp&#39; or &#39;Logistic&#39;</span>
<span class="n">fit_method</span> <span class="o">=</span> <span class="s1">&#39;Double_Exp&#39;</span>
</pre></div>
</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[10]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">decayfit</span> <span class="o">=</span> <span class="n">px</span><span class="o">.</span><span class="n">analysis</span><span class="o">.</span><span class="n">BERelaxFit</span><span class="p">(</span><span class="n">h5_main_SHO_fit</span><span class="p">,</span> <span class="n">sens</span><span class="o">=</span><span class="n">tip_sens</span><span class="p">,</span> <span class="n">phase_off</span><span class="o">=</span><span class="n">phase</span><span class="p">,</span> <span class="n">starts_with</span><span class="o">=</span><span class="n">starts_with</span><span class="p">,</span> <span class="n">fit_method</span><span class="o">=</span><span class="n">fit_method</span><span class="p">)</span>
<span class="c1">#start and end positions should be 0, and spatial dimension of h5_main; currently is user specified because it has yet to be integrated to the BERelaxFit process class.</span>
<span class="n">decayfit</span><span class="o">.</span><span class="n">_start_pos</span> <span class="o">=</span> <span class="mi">0</span>
<span class="n">decayfit</span><span class="o">.</span><span class="n">_end_pos</span> <span class="o">=</span> <span class="n">h5_main</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<span class="n">decayfit</span><span class="o">.</span><span class="n">_cores</span> <span class="o">=</span> <span class="mi">1</span>
<span class="c1">#decayfit.compute()</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Consider calling test() to check results before calling compute() which computes on the entire dataset and writes back to the HDF5 file
</pre></div></div>
</div>
</section>
<section id="Visualize-the-data">
<h1>Visualize the data<a class="headerlink" href="#Visualize-the-data" title="Link to this heading">¶</a></h1>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[11]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><br/><span></span><span class="n">h5_main_fit</span> <span class="o">=</span> <span class="n">h5_file</span><span class="p">[</span><span class="s1">&#39;Measurement_000/Channel_000/Raw_Data-SHO_Fit_001/Fit-Double_Exp_000/Double_Exp_Fit&#39;</span><span class="p">]</span>
<span class="c1">#make widget sliders for x-, and y-axes, voltage, and time</span>
<span class="n">slide_x</span> <span class="o">=</span> <span class="n">widgets</span><span class="o">.</span><span class="n">IntSlider</span><span class="p">(</span><span class="nb">min</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="nb">max</span><span class="o">=</span><span class="n">h5_main_SHO_fit</span><span class="o">.</span><span class="n">pos_dim_sizes</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">-</span> <span class="mi">1</span><span class="p">,</span> <span class="n">description</span><span class="o">=</span><span class="s1">&#39;Col&#39;</span><span class="p">)</span>
<span class="n">slide_y</span> <span class="o">=</span> <span class="n">widgets</span><span class="o">.</span><span class="n">IntSlider</span><span class="p">(</span><span class="nb">min</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="nb">max</span><span class="o">=</span><span class="n">h5_main_SHO_fit</span><span class="o">.</span><span class="n">pos_dim_sizes</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">-</span> <span class="mi">1</span><span class="p">,</span> <span class="n">description</span><span class="o">=</span><span class="s1">&#39;Row&#39;</span><span class="p">)</span>
<span class="n">slide_v</span> <span class="o">=</span> <span class="n">widgets</span><span class="o">.</span><span class="n">IntSlider</span><span class="p">(</span><span class="nb">min</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="nb">max</span><span class="o">=</span><span class="n">decayfit</span><span class="o">.</span><span class="n">no_rs_spectra</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="n">step</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">description</span><span class="o">=</span><span class="s1">&#39;App. Voltage&#39;</span><span class="p">,</span>
                              <span class="n">continuous_update</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">value</span> <span class="o">=</span> <span class="mi">0</span><span class="p">)</span>
<span class="n">slide_t</span> <span class="o">=</span> <span class="n">widgets</span><span class="o">.</span><span class="n">IntSlider</span><span class="p">(</span><span class="nb">min</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="nb">max</span><span class="o">=</span><span class="n">decayfit</span><span class="o">.</span><span class="n">no_time_steps</span> <span class="o">-</span> <span class="mi">1</span><span class="p">,</span> <span class="n">description</span><span class="o">=</span><span class="s1">&#39;Time Slice&#39;</span><span class="p">,</span>
                            <span class="n">continuous_update</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="c1">#make plotting interactive with widgets</span>
<span class="n">widgets</span><span class="o">.</span><span class="n">interact</span><span class="p">(</span><span class="n">px</span><span class="o">.</span><span class="n">viz</span><span class="o">.</span><span class="n">be_viz_utils</span><span class="o">.</span><span class="n">viz_berelaxfit</span><span class="p">,</span> <span class="n">berelaxfit</span> <span class="o">=</span> <span class="n">widgets</span><span class="o">.</span><span class="n">fixed</span><span class="p">(</span><span class="n">h5_main_fit</span><span class="p">),</span> <span class="n">t_time</span><span class="o">=</span><span class="n">slide_t</span><span class="p">,</span> <span class="n">x_col</span><span class="o">=</span><span class="n">slide_x</span><span class="p">,</span> <span class="n">h_row</span><span class="o">=</span><span class="n">slide_y</span><span class="p">,</span>
                 <span class="n">bias_ind</span><span class="o">=</span><span class="n">slide_v</span><span class="p">,</span> <span class="n">sensitivity</span><span class="o">=</span><span class="n">widgets</span><span class="o">.</span><span class="n">fixed</span><span class="p">(</span><span class="n">tip_sens</span><span class="p">),</span> <span class="n">phase_offset</span><span class="o">=</span><span class="n">widgets</span><span class="o">.</span><span class="n">fixed</span><span class="p">(</span><span class="n">phase</span><span class="p">),</span> <span class="n">fit_method</span><span class="o">=</span><span class="n">widgets</span><span class="o">.</span><span class="n">fixed</span><span class="p">(</span><span class="n">fit_method</span><span class="p">),</span> <span class="n">starts_with</span> <span class="o">=</span> <span class="n">widgets</span><span class="o">.</span><span class="n">fixed</span><span class="p">(</span><span class="n">starts_with</span><span class="p">));</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<script type="application/vnd.jupyter.widget-view+json">{"model_id": "98f8de68119141e6b8e0bfc7e56e3688", "version_major": 2, "version_minor": 0}</script></div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span>
</pre></div>
</div>
</div>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="BE_Processing_cKPFM.html" class="btn btn-neutral float-left" title="Band Excitation data procesing using pycroscopy" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="../gmode/index.html" class="btn btn-neutral float-right" title="General Mode" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2020, Pycroscopy contributors.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>